# This is a way to see what I changed in the container
FROM ubuntu:16.04 as temp1

LABEL maintainer="e_ben_75-python@yahoo.com" \
      description="This is a Ansible container" \
      package-name="ansible" \
      image-version="1.0" \
      ansible-version="2.3.1.0" \
      python-version="2.7.12"

RUN apt-get update && apt-get install -y python \
    python-pip \
    python-dev \
    ansible \
    nano \
    tree \
    && apt-get clean \
    && pip install --upgrade pip \
    && pip install --upgrade ansible

FROM temp1 as temp2

LABEL image-version="1.1"

RUN apt-get update && apt-get install -y ssh \
    sshpass \
    jq \
    && apt-get clean

FROM temp2 as temp3

LABEL image-version="1.2" \
      ansible-version="2.4.2.0" \
      git-version="2.7.4"

WORKDIR /ansible

RUN apt-get install -y software-properties-common && \
    apt-add-repository ppa:ansible/ansible && \
    apt-get update && \
    apt-get install -y ansible \
    git


